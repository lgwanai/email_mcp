# Product Context

## Why This Project Exists
这个项目旨在创建一个标准化的邮件收取服务，通过 MCP (Model Context Protocol) 协议提供邮件访问能力。它解决了需要程序化访问邮件数据的场景，特别是在 AI 助手需要读取和处理邮件内容时。

## Problems It Solves

### 1. 邮件数据访问标准化
- 提供统一的 JSON 接口访问不同邮箱
- 标准化邮件数据格式，便于后续处理
- 支持时间范围和数量限制的灵活查询

### 2. 附件管理自动化
- 自动下载邮件附件到本地
- 按邮件 ID 组织附件存储
- 提供附件读取接口

### 3. MCP 协议集成
- 通过 MCP 协议提供邮件服务
- 支持 SSE 模式的实时通信
- 与 AI 助手生态系统无缝集成

## How It Should Work

### 用户交互流程
1. 用户通过 MCP 客户端发送邮件收取请求
2. 服务器解析 JSON 参数（邮箱、文件夹、时间范围等）
3. 连接邮件服务器获取指定邮件
4. 下载并存储附件到本地目录
5. 返回标准化的邮件信息 JSON

### 数据流
```
用户请求 → MCP Server → 邮件服务器 → 邮件数据
                ↓
        附件下载 → 本地存储
                ↓
        JSON 响应 → 用户
```

## User Experience Goals

### 简单易用
- 单一接口处理所有邮件收取需求
- 清晰的 JSON 输入输出格式
- 自动处理附件下载，无需额外操作

### 可靠稳定
- 完善的错误处理和重试机制
- 详细的日志记录便于调试
- 支持各种邮件服务器协议

### 高效性能
- 支持批量邮件获取
- 智能的附件去重和存储
- 可配置的并发处理

### 扩展性
- 模块化设计便于添加新功能
- 支持多种邮件协议（IMAP、POP3等）
- 预留接口支持未来的附件处理功能